String.prototype.smoosh=function(){return this.replace(/(\r\n+|\n+|\r+|\t+)/gm,"")};String.prototype.splice=function(d,c){return this.slice(0,Math.abs(c))+d+this.slice(Math.abs(c))};String.prototype.stripTags=function(){return this.replace(/<\/?[^>]+(>|$)/g,"")};String.prototype.oneSpace=function(){return this.replace(/\s{2,}/g," ")};String.prototype.alphaSpaceOnly=function(){return this.replace(/[^\w\s]/gi,"")};String.prototype.alphaOnly=function(){return this.replace(/[^\w]/gi,"")};
String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};String.prototype.repeat=function(d){return Array(d+1).join(this)};String.prototype.occurs=function(d,c){if(void 0==d)return this.length;d+="";if(0>=d.length)return this.length;for(var a=0,b=0,f=c?1:d.length;;)if(b=this.indexOf(d,b),0<=b)a++,b+=f;else break;return a};
String.prototype.positions=function(d,c,a,b){d+="";var f=0;c=c?1:d.length;for(var g=[];;){var e=!0,f=this.indexOf(d,f);if(0<=f){if(!0==a)for(var h=f;h<this.length&&"<"!=this[h];h++)">"==this[h]&&(e=!1);!0==b&&!0==this.substr(f-1,f+d.length+1).isAlphaNum()&&(e=!1);!0==e&&g.push(f);f+=c}else break}return g};String.prototype.insertAt=function(d,c){return this.substr(0,d)+c+this.substr(d)};
String.prototype.params=function(){for(var d=this.split("?"),d=d[1].split("&"),c={},a=0,b=d.length;a<b;a++)if(void 0!=d[a]){var f=d[a].split("=");c[f[0]]=f[1]}return c};String.prototype.hasUpper=function(){return/[A-Z]/.test(this)};String.prototype.report=function(){for(var d=this.toLowerCase().split(" "),c={},a=0,b=d.length;a<b;a++){var f=d[a];c[f]=f in c?c[f]+1:1}return c};String.prototype.lines=function(){return this.split("\n")};
String.prototype.isAlphaNum=function(){return/[^a-zA-Z0-9]/.test(this)?!1:!0};String.prototype.sentences=function(){for(var d=this.match(/[^\.!\?]+[\.!\?]+/g),c="aeiouy".split(""),a=[],b="",f=0;f<d.length;f++){for(var g=b+d[f],b="",e=!0,h=0;h<c.length;h++)if(-1!=g.indexOf(c[h])){e=!1;break}g.trim()[0].hasUpper()||(e=!0);e?0<a.length?a[a.length-1]+=g:b=g:a.push(g.smoosh().trim())}return a};
(function(d){function c(a,b,d){this.elem=a;this.selector=d;this.init(a,b)}c.prototype.init=function(a,b){this.config=d.extend({animation_s:.3},b);this.events={"switch":"toggle_switch-SWITCH"};this.name=d(this.elem).attr("name");this.tagId=this.name.alphaOnly().toLowerCase();this.build()};c.prototype.build=function(){d(this.elem).append("\t\t\t<label>"+this.name+'</label>\t\t\t<div class="toggle_switch">\t\t\t\t<input type="checkbox" name="toggle_switch" class="toggle_switch-checkbox" id="'+this.tagId+
'" checked>\t\t\t\t<label class="toggle_switch-label" for="'+this.tagId+'">\t\t\t\t\t<div class="toggle_switch-inner"></div>\t\t\t\t\t<div class="toggle_switch-switch"></div>\t\t\t\t</label>\t\t\t</div>\t\t');this.start()};c.prototype.toggle=function(a){switch(this.position()){case "on":this.off(a);break;case "off":this.on(a)}};c.prototype.start=function(){var a=this;d(".toggle_switch-label",a.elem).on("touchstart click",function(b){a.announce()})};c.prototype.announce=function(){var a=this;setTimeout(function(){d(window).trigger(a.events["switch"],
[a.name,a.position(),a.tagId])},1E3*a.config.animation_s)};c.prototype.on=function(a){"on"!=this.position()&&(d(".toggle_switch-checkbox",this.elem).prop("checked",!0),!0!=a&&this.announce())};c.prototype.position=function(){switch(d(".toggle_switch-checkbox",this.elem).prop("checked")){case !0:return"on";case !1:return"off"}};c.prototype.off=function(a){"off"!=this.position()&&(d(".toggle_switch-checkbox",this.elem).prop("checked",!1),!0!=a&&this.announce())};d(document).ready(function(a){a.fn.toggle_switch=
function(b){var d=a(this).selector,g=[];this.each(function(){g.push(new c(this,b,d))});return g}})})(jQuery);
(function(d){function c(a,b){this.init(a,b)}c.prototype.init=function(a,b){this.selector=a;this.config=d.extend({animation_s:.3,off:{},on:{},toggle:{},callback:{}},b);this.events={"switch":"switch_grid-SWITCH"};this.history=[];this.switches=d(a).toggle_switch();this.switch_map=this.switchMap();this.start()};c.prototype.switchMap=function(){for(var a={},b=0;b<this.switches.length;b++)a[this.switches[b].name]=this.switches[b];return a};c.prototype.start=function(){var a=this;a.state();d(window).on("toggle_switch-SWITCH",
function(b,c,g,e){a.callback(c);b=0+a.toggleLinks(c,g);b+=a.offLinks(c,g);b+=a.onLinks(c,g);0<b?setTimeout(function(){for(var b=a.state(),g=a.diff(c),e=0;e<g.length;e++)a.callback(g[e].name);d(window).trigger(a.events["switch"],[b,g])},1E3*a.config.animation_s):(g=a.state(),d(window).trigger(a.events["switch"],[g,a.switch_map[c]]))})};c.prototype.offLinks=function(a,b){return this.links(a,b,"off")};c.prototype.onLinks=function(a,b){return this.links(a,b,"on")};c.prototype.toggleLinks=function(a,b){return this.links(a,
b,"toggle")};c.prototype.links=function(a,b,d,c){switch(d){case "on":if("off"==b)return 0;break;case "off":if("on"==b)return 0}c=void 0==c?{}:c;c[a]=1;b=void 0;switch(d){case "on":b=this.config.on[a];break;case "off":b=this.config.off[a];break;case "toggle":b=this.config.toggle[a]}if(void 0==b)return 0;for(var e=a=0;e<b.length;e++){var h=this.switch_map[b[e]];if(1!=c[h.name]){switch(d){case "on":h.on(!0);break;case "off":h.off(!0);break;case "toggle":h.toggle(!0)}a+=this.links(h.name,h.position(),
d,c);a++}}return a};c.prototype.callback=function(a){var b=this.config.callback[a];"function"==typeof b&&(a=this.switch_map[a].position(),b(a))};c.prototype.state=function(){for(var a=[],b=0;b<this.switches.length;b++){var d=this.switches[b].name,c=this.switches[b].tagId,e=this.switches[b].position();a.push({name:d,tagId:c,position:e})}this.history.push(a);return a};c.prototype.diff=function(a){if(!(2>this.history.length)){for(var b=this.history[this.history.length-1],d=this.history[this.history.length-
2],c=[],e=0;e<b.length;e++)b[e].position!=d[e].position&&b[e].name!=a&&c.push(b[e]);return c}};d(document).ready(function(a){a.fn.switch_grid=function(a){return new c(this,a)}})})(jQuery);

